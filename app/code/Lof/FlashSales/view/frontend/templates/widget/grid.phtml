<?php
/**
 * Landofcoder
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Landofcoder.com license that is
 * available through the world-wide-web at this URL:
 * https://landofcoder.com/terms
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade this extension to newer
 * version in the future.
 *
 * @category   Landofcoder
 * @package    Lof_FlashSales
 * @copyright  Copyright (c) 2021 Landofcoder (https://www.landofcoder.com/)
 * @license    https://landofcoder.com/terms
 */

/**
 * Grid
 *
 * @var Lof\FlashSales\Block\Widget\FlashSales $block
 * @var \Lof\FlashSales\Helper\Data $helper
 */
// phpcs:disable Magento2.Templates.ThisInTemplate
// phpcs:disable Generic.WhiteSpace.ScopeIndent
$helper = $this->helper(\Lof\FlashSales\Helper\Data::class);

?>
<?php if ($exist = ($block->getFlashSalesWidgetCollection() && $block->getFlashSalesWidgetCollection()->getSize())): ?>
    <?php
        $layout = 'grid';
    ?>
    <div class="block widget flashsales <?= /* @noEscape */
    $layout ?>">
        <div class="loffs-status-title">
            <h3><?= $block->escapeHtml($block->getData('title')) ?></h3>
        </div>
        <div class="loffs-row">
            <?php foreach ($block->getFlashSalesWidgetCollection() as $_flashSale): ?>
                <div class="loffs-col-md-<?= (int) $block->escapeHtmlAttr($block->getColumn()) ?> loffs-col-xs-12">
                    <?= $this->getLayout()->createBlock(\Lof\FlashSales\Block\Widget\FlashSales::class)
                        ->setFlashSalesItem($_flashSale)
                        ->setTemplate("Lof_FlashSales::flashsales/status/item.phtml")->toHtml(); ?>
                </div>
            <?php endforeach; ?>
        </div>
        <?= $block->getPagerHtml() ?>
    </div>
<?php endif; ?>
