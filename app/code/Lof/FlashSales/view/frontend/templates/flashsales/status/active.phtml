<?php
/**
 * Landofcoder
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Landofcoder.com license that is
 * available through the world-wide-web at this URL:
 * https://landofcoder.com/terms
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade this extension to newer
 * version in the future.
 *
 * @category   Landofcoder
 * @package    Lof_FlashSales
 * @copyright  Copyright (c) 2021 Landofcoder (https://www.landofcoder.com/)
 * @license    https://landofcoder.com/terms
 */

/**
 * Active
 *
 * @var \Lof\FlashSales\Helper\Data $helper
 * @var \Lof\FlashSales\Block\FlashSales\Status\Active $block
 */
// phpcs:disable Magento2.Templates.ThisInTemplate
// phpcs:disable Generic.WhiteSpace.ScopeIndent
$flashSalesActiveCollection = $block->getFlashSalesActiveCollection();

if (!$block->canDisplay()) {
    return;
}
?>

<div class="loffs-row">
    <?php foreach ($flashSalesActiveCollection as $_flashSale): ?>
        <?php if ($block->getCategory($_flashSale->getCategoryId())): ?>
            <div class="loffs-col-md-<?= (int)$block->getEventColumn() ?>">
                <?= $this->getLayout()->createBlock(\Lof\FlashSales\Block\FlashSales\Status\Active::class)
                    ->setFlashSalesItem($_flashSale)
                    ->setTemplate("Lof_FlashSales::flashsales/status/item.phtml")->toHtml(); ?>
            </div>
        <?php endif; ?>
    <?php endforeach; ?>
</div>
